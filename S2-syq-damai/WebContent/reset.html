<!DOCTYPE html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>大麦商城</title>
<link href="css/common.css" rel="stylesheet" type="text/css" />
<link href="css/register.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="js/jquery-1.8.3.js"></script>
<script type="text/javascript" src="js/vue.min.js"></script>
<script type="text/javascript" src="js/axios.min.js"></script>
<script type="text/javascript" src="js/comp.js"></script>
</head>
<body>
	<div id="header">
	<page-head></page-head>
</div>
<script type="text/javascript">
var vhead = new Vue({el:"#header"});
</script>
	<div class="container register">
		<div class="span24">
			<div class="wrap">
				<div class="main clearfix">
					<div class="title">
						<strong>会员注册</strong>USER REGISTER

					</div>
					<form id="registerForm"
						action="reg.html"
						method="post" novalidate="novalidate"
						onsubmit="return checkForm();">
						<table>
							<tbody>
								<tr>
									<th><span class="requiredField">*</span>用户名:</th>
									<td><input v-model="ename" type="text" id="username" name="username"
										class="text" maxlength="20"  /><span
										id="span1">
									</span></td>
								</tr>
								
								<tr>
									<th><span class="requiredField">*</span>E-mail:</th>
									<td><input v-model="email" type="text" id="email" name="email"
										class="text" maxlength="200" /><span>
									</span></td>
								</tr>
								<tr>
									<th><span class="requiredField">*</span>电话:</th>
									<td><input v-model="phone" type="text" id="phone" name="phone"
										class="text" maxlength="200" onkeyup="value=value.replace(/[^\d]/g,'')" onafterpaste="value=value.replace(/\D/g,'')">
									</td>
								</tr>
								<tr>
									<th><span class="requiredField">*</span>新&nbsp;&nbsp;密&nbsp;&nbsp;码:</th>
									<td><input v-model="password" type="password" id="password" name="password"
										class="text" maxlength="20" autocomplete="off" /><span>
									</span></td>
								</tr>
								<tr>
									<th><span class="requiredField">*</span>确认新密码:</th>
									<td><input v-model="repass" type="password" id="repassword"
										name="repassword" class="text" maxlength="20"
										autocomplete="off" /></td>
								</tr>

								<tr>
									<th><span class="requiredField">*</span>验证码:</th>
									<td><span class="fieldSet"> <input v-model="vcode" type="text"
											id="captcha" name="captcha" class="text captcha"
											maxlength="4" autocomplete="off"><img
												id="captchaImage" class="captchaImage"
												src="vcode.do"
												onclick="this.src='vcode.do?a=' + new Date()"
												title="点击更换验证码" onclick="changeImg()">
									</span></td>
								</tr>
								<tr>
									<th>&nbsp;</th>
									<td><input type="button" class="submit" @click="reset" value="重置密码">
									</td>
								</tr>
							</tbody>
						</table>
						<div class="login">
							<div class="ad">
								<dl>
									<dt>注册即享受</dt>
									<dd>正品保障、正规发票</dd>
									<dd>货到付款、会员服务</dd>
									<dd>自由退换、售后上门</dd>
								</dl>
							</div>
							<dl>
								<dt>已经拥有账号了？</dt>
								<dd>
									立即登录即可体验在线购物！ <a href="login.html">立即登录</a>
								</dd>
							</dl>
						</div>
					</form>
					<script type="text/javascript">
					var vue = new Vue({
						el :"#registerForm",
						data : {
							ename : "",
							email : "",
							phone : "",
							password : "",
							repass : "",
							vcode : ""
						},
						methods : {
							reset(){
								var url ="user.do?op=update";
								var user = {
									ename : this.ename,
									password : this.password,
									repass : this.repass,
									email : this.email,
									phone : this.phone,
									vcode : this.vcode
								};
								$.post(url,user,function(msg){
									alert(msg);
									if(msg == '密码重置成功!'){
										var id = location.hash.substring(1)
										console.info(id)
										location.href= "login.html#"+id;
									}
								})
							}
						}
					});
				</script>
				</div>
			</div>
		</div>
	</div>
	<div class="container footer">
		<div class="span24">
			<div class="footerAd">
				<img src="image/footer.jpg"
					width="950" height="52" alt="我们的优势" title="我们的优势">
			</div>
		</div>
		<div class="span24">
			<ul class="bottomNav">
				<li><a>关于我们</a> |</li>
				<li><a>联系我们</a> |</li>
				<li><a>招贤纳士</a> |</li>
				<li><a>法律声明</a> |</li>
				<li><a>友情链接</a> |</li>
				<li><a target="_blank">支付方式</a> |</li>
				<li><a target="_blank">配送方式</a> |</li>
				<li><a>服务声明</a> |</li>
				<li><a>广告声明</a></li>
			</ul>
		</div>
		<div class="span24">
			<div class="copyright">Copyright © 2005-2013 Mango商城 版权所有</div>
		</div>
	</div>
	<div id="_my97DP"
		style="position: absolute; top: -1970px; left: -1970px;">
		<iframe style="width: 190px; height: 191px;"
			src="./会员注册 - Powered By Mango Team_files/My97DatePicker.htm"
			frameborder="0" border="0" scrolling="no"></iframe>
	</div>
</body>
</html>